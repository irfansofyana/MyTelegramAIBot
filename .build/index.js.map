{
  "version": 3,
  "sources": ["../index.ts"],
  "sourcesContent": ["import { Telegraf, Scenes, session } from 'telegraf';\nimport {\n  tldrWizard,\n  amaWizard,\n  writeCodeWizard,\n  explainCodeWizard,\n  brainstormWizard\n} from './wizard';\n\nconst botToken: string | undefined = process.env.TELEGRAM_BOT_TOKEN;\nif (botToken === undefined) {\n  console.error('missing telegram bot token');\n  process.exit();\n}\n\nconst bot = new Telegraf(botToken);\n\nconst ownerTelegramID: number = Number(process.env.OWNER_TELEGRAM_ID);\n\nconst stage = new Scenes.Stage([\n  tldrWizard, amaWizard, writeCodeWizard, explainCodeWizard, brainstormWizard\n]);\n\nbot.use(async (ctx, next) => {\n  if (ctx.from?.id != ownerTelegramID) {\n    ctx.reply(`You're not my boss, I can't answer your question!`);\n    return;\n  }\n\n  await next();\n})\n\nbot.use(session());\n\nbot.use(stage.middleware());\n\nbot.command('tldr', ctx => ctx.scene.enter('tldr'));\n\nbot.command('ama', ctx => ctx.scene.enter('ama'));\n\nbot.command('code', ctx => ctx.scene.enter('writecode'));\n\nbot.command('explaincode', ctx => ctx.scene.enter('explaincode'));\n\nbot.command('brainstorm', ctx => ctx.scene.enter('brainstorm'));\n\nbot.command('whoami', ctx => {\n  ctx.reply(`I am a telegram bot that is used by @irfansppp to become his personal assistant. I'm powered by OpenAI.`);\n});\n\nbot.on('message', ctx => {\n  ctx.reply(`Please use commands available in order to ask me, boss.`)\n});\n\nbot.launch();\n\nprocess.once('SIGINT', () => bot.stop('SIGINT'))\n\nprocess.once('SIGTERM', () => bot.stop('SIGTERM'))\n"],
  "mappings": ";AAAA,sBAA0C;AAC1C,oBAMO;AAEP,MAAM,WAA+B,QAAQ,IAAI;AACjD,IAAI,aAAa,QAAW;AAC1B,UAAQ,MAAM,4BAA4B;AAC1C,UAAQ,KAAK;AACf;AAEA,MAAM,MAAM,IAAI,yBAAS,QAAQ;AAEjC,MAAM,kBAA0B,OAAO,QAAQ,IAAI,iBAAiB;AAEpE,MAAM,QAAQ,IAAI,uBAAO,MAAM;AAAA,EAC7B;AAAA,EAAY;AAAA,EAAW;AAAA,EAAiB;AAAA,EAAmB;AAC7D,CAAC;AAED,IAAI,IAAI,OAAO,KAAK,SAAS;AAvB7B;AAwBE,QAAI,SAAI,SAAJ,mBAAU,OAAM,iBAAiB;AACnC,QAAI,MAAM,mDAAmD;AAC7D;AAAA,EACF;AAEA,QAAM,KAAK;AACb,CAAC;AAED,IAAI,QAAI,yBAAQ,CAAC;AAEjB,IAAI,IAAI,MAAM,WAAW,CAAC;AAE1B,IAAI,QAAQ,QAAQ,SAAO,IAAI,MAAM,MAAM,MAAM,CAAC;AAElD,IAAI,QAAQ,OAAO,SAAO,IAAI,MAAM,MAAM,KAAK,CAAC;AAEhD,IAAI,QAAQ,QAAQ,SAAO,IAAI,MAAM,MAAM,WAAW,CAAC;AAEvD,IAAI,QAAQ,eAAe,SAAO,IAAI,MAAM,MAAM,aAAa,CAAC;AAEhE,IAAI,QAAQ,cAAc,SAAO,IAAI,MAAM,MAAM,YAAY,CAAC;AAE9D,IAAI,QAAQ,UAAU,SAAO;AAC3B,MAAI,MAAM,yGAAyG;AACrH,CAAC;AAED,IAAI,GAAG,WAAW,SAAO;AACvB,MAAI,MAAM,yDAAyD;AACrE,CAAC;AAED,IAAI,OAAO;AAEX,QAAQ,KAAK,UAAU,MAAM,IAAI,KAAK,QAAQ,CAAC;AAE/C,QAAQ,KAAK,WAAW,MAAM,IAAI,KAAK,SAAS,CAAC;",
  "names": []
}

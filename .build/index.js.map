{
  "version": 3,
  "sources": ["../index.ts"],
  "sourcesContent": ["import { Telegraf, Scenes, session } from 'telegraf';\nimport { message } from 'telegraf/filters';\nimport {\n  tldr,\n  ama,\n  writeCode,\n  explainCode,\n  brainstorm,\n  chat,\n  image\n} from './handlers';\n\nconst botToken: string | undefined = process.env.TELEGRAM_BOT_TOKEN;\nif (botToken === undefined) {\n  console.error('missing telegram bot token');\n  process.exit();\n}\n\nconst bot = new Telegraf(botToken);\n\nconst ownerTelegramID: number = Number(process.env.OWNER_TELEGRAM_ID);\n\nconst stage = new Scenes.Stage([\n  tldr, ama, writeCode, explainCode, brainstorm, image\n]);\n\nbot.use(async (ctx, next) => {\n  if (ctx.from?.id != ownerTelegramID) {\n    ctx.reply(`You're not my boss, I can't answer your question!`);\n    return;\n  }\n\n  await next();\n})\n\nbot.use(session());\n\nbot.use(stage.middleware());\n\nbot.command('tldr', ctx => ctx.scene.enter('tldr'));\n\nbot.command('ama', ctx => ctx.scene.enter('ama'));\n\nbot.command('code', ctx => ctx.scene.enter('writecode'));\n\nbot.command('explaincode', ctx => ctx.scene.enter('explaincode'));\n\nbot.command('brainstorm', ctx => ctx.scene.enter('brainstorm'));\n\nbot.command('image', ctx => ctx.scene.enter('image'));\n\nbot.command('whoami', ctx => {\n  ctx.reply(`I am a telegram bot that is used by @irfansppp to become his personal assistant. I'm powered by OpenAI.`);\n});\n\nbot.on(message('text'), ctx => {\n  chat(ctx)\n});\n\nbot.on('sticker', (ctx) => ctx.reply('\uD83D\uDC4D'))\n\nbot.launch();\n\nprocess.once('SIGINT', () => bot.stop('SIGINT'))\n\nprocess.once('SIGTERM', () => bot.stop('SIGTERM'))\n"],
  "mappings": ";AAAA,sBAA0C;AAC1C,qBAAwB;AACxB,sBAQO;AAEP,MAAM,WAA+B,QAAQ,IAAI;AACjD,IAAI,aAAa,QAAW;AAC1B,UAAQ,MAAM,4BAA4B;AAC1C,UAAQ,KAAK;AACf;AAEA,MAAM,MAAM,IAAI,yBAAS,QAAQ;AAEjC,MAAM,kBAA0B,OAAO,QAAQ,IAAI,iBAAiB;AAEpE,MAAM,QAAQ,IAAI,uBAAO,MAAM;AAAA,EAC7B;AAAA,EAAM;AAAA,EAAK;AAAA,EAAW;AAAA,EAAa;AAAA,EAAY;AACjD,CAAC;AAED,IAAI,IAAI,OAAO,KAAK,SAAS;AA1B7B;AA2BE,QAAI,SAAI,SAAJ,mBAAU,OAAM,iBAAiB;AACnC,QAAI,MAAM,mDAAmD;AAC7D;AAAA,EACF;AAEA,QAAM,KAAK;AACb,CAAC;AAED,IAAI,QAAI,yBAAQ,CAAC;AAEjB,IAAI,IAAI,MAAM,WAAW,CAAC;AAE1B,IAAI,QAAQ,QAAQ,SAAO,IAAI,MAAM,MAAM,MAAM,CAAC;AAElD,IAAI,QAAQ,OAAO,SAAO,IAAI,MAAM,MAAM,KAAK,CAAC;AAEhD,IAAI,QAAQ,QAAQ,SAAO,IAAI,MAAM,MAAM,WAAW,CAAC;AAEvD,IAAI,QAAQ,eAAe,SAAO,IAAI,MAAM,MAAM,aAAa,CAAC;AAEhE,IAAI,QAAQ,cAAc,SAAO,IAAI,MAAM,MAAM,YAAY,CAAC;AAE9D,IAAI,QAAQ,SAAS,SAAO,IAAI,MAAM,MAAM,OAAO,CAAC;AAEpD,IAAI,QAAQ,UAAU,SAAO;AAC3B,MAAI,MAAM,yGAAyG;AACrH,CAAC;AAED,IAAI,OAAG,wBAAQ,MAAM,GAAG,SAAO;AAC7B,4BAAK,GAAG;AACV,CAAC;AAED,IAAI,GAAG,WAAW,CAAC,QAAQ,IAAI,MAAM,WAAI,CAAC;AAE1C,IAAI,OAAO;AAEX,QAAQ,KAAK,UAAU,MAAM,IAAI,KAAK,QAAQ,CAAC;AAE/C,QAAQ,KAAK,WAAW,MAAM,IAAI,KAAK,SAAS,CAAC;",
  "names": []
}
